(function(a){"use strict";function b(){c.FormDependencies({inactiveClass:"ut-hide",done:function(){c.tabs({create:function(){a(".ui-has-inner-tabs").length?a(".ui-has-inner-tabs").tabs({create:function(){a("#ut-metabox-tabs-overlay").delay(400).fadeOut(function(){a(this).addClass("ut-meta-panel-loaded")})}}):a("#ut-metabox-tabs-overlay").delay(400).fadeOut(function(){a(this).addClass("ut-meta-panel-loaded")})}})}})}var c=a("#ut-metabox-tabs");a(window).on("load",function(){if(c.length){c.removeClass("ut-hide"),a("#ut-load-meta-panel").removeClass("ut-hide");var d=setInterval(function(){(c.hasClass("ut-visual-composer-ready")||!a("#postdivrich").hasClass(".vc-disable-editor"))&&(clearInterval(d),b())},50)}});var d={old_panel_active:!0,unrelated_settings_for_portfolio:["ut_activate_page_hero","ut_page_hero_background_color","ut_page_hero_height","ut_page_hero_inner_width","ut_page_hero_inner_width_tablet","ut_page_hero_image_tablet","ut_page_hero_image_mobile","ut_page_hero_width","ut_page_hero_image_scroll_zoom","ut_page_hero_image_animation_effect","ut_page_hero_image_animation_effect_timer","ut_page_hero_image_animation_effect_kenburns_timer","ut_page_hero_image_animation_effect_easing","ut_page_hero_caption_animation_type","ut_page_hero_caption_animation_effect","ut_page_hero_caption_animation_effect_split","ut_page_hero_caption_animation_effect_timer","ut_page_hero_caption_animation_effect_easing","ut_page_video_sound","ut_page_video_volume","ut_page_video_mute_button","ut_page_video_poster","ut_page_video_mobile","ut_page_video_start_at","ut_page_video_stop_at","ut_page_video_loop","ut_page_video_poster_tablet","ut_page_video_poster_mobile","ut_page_hero_slider_animation_speed","ut_page_hero_slider_slideshow_speed","ut_page_hero_slider_arrow_background_color","ut_page_hero_slider_arrow_background_color_hover","ut_page_hero_slider_arrow_color","ut_page_hero_slider_arrow_color_hover","ut_page_hero_parallax","ut_page_hero_rain_effect","ut_page_hero_rain_sound"],unrelated_menu_for_portfolio:["ut-hero-styling","ut-hero-settings","ut-page-header-settings","ut-contact-section","ut-page-settings","ut-header-settings","ut-color-settings","ut-product-settings"],unrelated_titles_for_portfolios:["setting_ut_page_hero_slider_color_settings_headline","setting_ut_page_video_poster_headline","setting_ut_page_hero_background_settings_headline","setting_ut_page_hero_image_animation_effect_headline"],unrelated_settings_for_pages:["ut-portfolio-details","ut-onpage-portfolio-settings","ut-portfolio-showcase-settings","ut-product-settings"],unrelated_settings_for_products:["ut-portfolio-details","ut-onpage-portfolio-settings","ut-portfolio-showcase-settings"],init:function(){this.start_ui()},start_ui:function(){if("portfolio"===ut_meta_panel_vars.post_type){a(".ut-manage-team").remove(),a("#ut-manage-team").remove();var b="";b="global"===a("#ut_portfolio_link_type").val()?a("#setting_ut_portfolio_link_type").data("detailstyle"):a("#ut_portfolio_link_type").val(),"internal"===b||""===b?(a.each(this.unrelated_settings_for_portfolio,function(b,c){a("#setting_"+c).parent().removeClass("ut-disabled-for-user")}),a.each(this.unrelated_titles_for_portfolios,function(b,c){a("#"+c).removeClass("ut-disabled-for-user")}),a.each(this.unrelated_menu_for_portfolio,function(b,c){a("."+c).removeClass("ut-disabled-for-user"),a("#"+c).removeClass("ut-disabled-for-user")}),a(".ut-hero-type").removeClass("ut-disabled-for-user"),a("#ut-hero-type").removeClass("ut-disabled-for-user")):(a.each(this.unrelated_settings_for_portfolio,function(b,c){a("#setting_"+c).parent().addClass("ut-disabled-for-user")}),a.each(this.unrelated_titles_for_portfolios,function(b,c){a("#"+c).addClass("ut-disabled-for-user")}),a.each(this.unrelated_menu_for_portfolio,function(b,c){a("."+c).addClass("ut-disabled-for-user"),a("#"+c).addClass("ut-disabled-for-user")}),"external"===b&&(a(".ut-hero-type").addClass("ut-disabled-for-user"),a("#ut-hero-type").addClass("ut-disabled-for-user"))),"slideup"===b||"onepage"===b?setTimeout(function(){a("#setting_ut_slide_up_portfolio_hide_media").parent().removeClass("disabled ut-portfolio-hide")},100):setTimeout(function(){a("#setting_ut_slide_up_portfolio_hide_media").parent().addClass("disabled ut-portfolio-hide")},100),this.switch_text_blocks(b),this.hide_field_options(b),this.adjust_portfolio_ui(b)}else"product"===ut_meta_panel_vars.post_type?a.each(this.unrelated_settings_for_products,function(b,c){a("."+c).addClass("ut-disabled-for-user"),a("#"+c).addClass("ut-disabled-for-user")}):a.each(this.unrelated_settings_for_pages,function(b,c){a("."+c).addClass("ut-disabled-for-user"),a("#"+c).addClass("ut-disabled-for-user")})},adjust_portfolio_ui:function(b){var c="",d=a("#ut_page_hero_type").val();if("image"===d&&(c=a("#ut_page_hero_image").val()),"video"===d)switch(a("#ut_page_video_source")){case"youtube":c=a("#ut_page_video").val();break;case"vimeo":c=a("#ut_page_video_vimeo").val();break;case"selfhosted":c=a("#ut_page_video_mp4").val();break;case"custom":c=a("#ut_page_video_custom").val();}"slider"===d&&(c=a("#ut_page_hero_slider_settings_array").next("ul").has("li")),"slideup"===b||"onepage"===b||"popup"===b?c.length?this.old_panel_active=!0:(a(".ut-hero-type").addClass("ut-portfolio-hide"),this.old_panel_active=!1):(a(".ut-hero-type").removeClass("ut-portfolio-hide"),this.old_panel_active=!1),"slideup"===b||"onepage"===b||"popup"===b?this.show_onpage_settings(b):this.hide_onpage_settings()},switch_text_blocks:function(b){"internal"===b?(a(".ut-hero-type a").text(a(".ut-hero-type").data("page")),a("#setting_ut_page_hero_type .ut-single-option-title").text(a(".ut-hero-type").data("page")),a("#setting_ut-hero-settings .ut-panel-title").text(a(".ut-hero-type").data("page")),a("#setting_ut_page_hero_info").show(),a("#setting_ut_page_hero_type .ut-panel-description").css({visibility:"visible"}),a("#ut_page_hero_type").each(function(){a(this).children("option").each(function(){a(this).data("orglabel")&&a(this).text(a(this).data("orglabel"))})})):(a(".ut-hero-type a").text(a(".ut-hero-type").data("portfolio")),a("#setting_ut_page_hero_type .ut-single-option-title").text(a(".ut-hero-type").data("portfolio")),a("#setting_ut-hero-settings .ut-panel-title").text(a(".ut-hero-type").data("portfolio")),a("#setting_ut_page_hero_info").hide(),a("#setting_ut_page_hero_type .ut-panel-description").css({visibility:"hidden"}),a("#setting_ut_activate_page_hero").find(".ut-on").trigger("click"),a("#ut_page_hero_type").each(function(){a(this).children("option").each(function(){a(this).data("altlabel")&&a(this).text(a(this).data("altlabel"))})})),a("#ut_page_hero_type").trigger("change")},hide_field_options:function(b){"internal"===b?(a("#ut_page_hero_type .select-option-animatedimage").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-splithero").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-transition").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-tabs").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-custom").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-dynamic").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-imagefader").removeClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-cblock").removeClass("ut-portfolio-hide")):(a("#ut_page_hero_type .select-option-animatedimage").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-splithero").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-transition").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-tabs").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-custom").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-dynamic").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-imagefader").addClass("ut-portfolio-hide"),a("#ut_page_hero_type .select-option-cblock").addClass("ut-portfolio-hide"))},hide_onpage_settings:function(){a(".ut-onpage-portfolio-settings").addClass("ut-portfolio-hide")},show_onpage_settings:function(b){a(".ut-onpage-portfolio-settings").removeClass("ut-portfolio-hide"),"slideup"===b||"onepage"===b?a(".ut-onpage-portfolio-settings a").text(a(".ut-onpage-portfolio-settings").data("slideup")):a(".ut-onpage-portfolio-settings a").text(a(".ut-onpage-portfolio-settings").data("lightbox"))},show_message:function(){this.old_panel_active&&a(".ut-hero-type").hasClass("ut-has-click-pointer")&&(a("<div id=\"ut-hero-type-pointer-overlay\"></div>").addClass("ut-pointer-overlay").appendTo("#ut-hero-type"),a(".ut-hero-type").pointer("open"))}};d.init(),a(document).ready(function(){"portfolio"===ut_meta_panel_vars.post_type&&(a("#ut_portfolio_link_type").change(function(){d.start_ui()}),a(".ut-hero-type a").click(function(){d.show_message()}))}),a("#setting_ut_page_type").parent().hide(),"onepage"===ut_meta_panel_vars.site_type&&a("*[data-group=\"ut_page_type\"]").appendTo("#ut-option-switch"),a(document).ready(function(){"portfolio"!==ut_meta_panel_vars.post_type&&(a(".ut-portfolio-details").addClass("ut-portfolio-hide"),a(".ut-portfolio-showcase-settings").addClass("ut-portfolio-hide"),a(".ut-onpage-portfolio-settings").addClass("ut-portfolio-hide"))}),a(document).ready(function(){function b(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b)return b}catch(a){}return!1}function c(b){var c=b.is(":checked")?"on":"off";a.ajax({type:"POST",url:ajaxurl,data:{action:"set_global_flag",post:b.data("post"),option:b.attr("name"),value:c,nonce:b.data("nonce")},success:function(){a("#switch_overlay_"+b.data("option")).children(".ut-panel-loader").remove()}})}function d(b){a("<div class=\"ut-panel-loader\"><div class=\"sk-cube-grid-wrap\"><div class=\"sk-cube-grid\"><div class=\"sk-cube sk-cube1\"></div><div class=\"sk-cube sk-cube2\"></div><div class=\"sk-cube sk-cube3\"></div><div class=\"sk-cube sk-cube4\"></div><div class=\"sk-cube sk-cube5\"></div><div class=\"sk-cube sk-cube6\"></div><div class=\"sk-cube sk-cube7\"></div><div class=\"sk-cube sk-cube8\"></div><div class=\"sk-cube sk-cube9\"></div></div></div></div>").appendTo(b)}function e(b){b.is(":checked")?(a("#switch_overlay_"+b.data("option")).removeClass("show"),a("#setting_"+b.data("option")).addClass("ut-custom-active").removeClass("ut-global-active")):(a("#switch_overlay_"+b.data("option")).addClass("show"),d("#switch_overlay_"+b.data("option")),a("#setting_"+b.data("option")).addClass("ut-global-active").removeClass("ut-custom-active"))}function f(b,c){b.hasClass("ut-numeric-slider-hidden-input")?(b.val(c),b.siblings(".ut-numeric-slider-helper-input").val(c).trigger("change")):b.hasClass("ut-gradient-picker")?(b.val("rgba(255, 255, 255, 0)").trigger("keyup"),b.val(c).trigger("keyup")):b.hasClass("ut-minicolors")?b.val(c).trigger("keyup"):a(b.selector+"-"+c).length?a(b.selector+"-"+c).trigger("click"):b.val(c).trigger("change")}function g(c){c.is(":checked")||a.ajax({type:"POST",url:ajaxurl,data:{action:"load_global_value",option:c.data("option"),nonce:c.data("nonce")},success:function(d){b(d)?a.each(b(d),function(b,d){f(a("[name=\""+c.data("option")+"["+b+"]\"]"),d)}):f(a("#"+c.data("option")),d)}})}a(document).on("click",".ut-switch-for-globals input",function(b){var d=a(this);c(d),e(d),"post"!==ut_meta_panel_vars.post_type&&g(d),b.stopPropagation(),b.stopImmediatePropagation()}),a(window).on("load",function(){a(".ui-state-default").removeAttr("style")}),a(document).on("click",".ut-radio-button",function(b){b.preventDefault();var c=a(this);return!c.hasClass("selected")&&void(a("#"+c.siblings(".selected").data("for")).prop("checked",!1),c.siblings(".selected").removeClass("selected"),c.addClass("selected"),a("#"+c.data("for")).prop("checked",!0).trigger("change"))}),a(document).on("click","*[data-group=\"ut_page_type\"] .ut-radio-button",function(){a("#publish").trigger("click")});var h=a("#page_template").val();"templates/template-team.php"===h?(a(".ut-team-section").parent().show(),a("#setting_ut_manage_team_info").hide()):(a(".ut-team-section").parent().hide(),a("#setting_ut_manage_team_info").show()),a("#page_template").change(function(){var b=a(this).val();"templates/template-team.php"===b?(a(".ut-team-section").parent().show(),a("#setting_ut_manage_team_info").hide()):(a(".ut-team-section").parent().hide(),a("#setting_ut_manage_team_info").show())})})})(jQuery);